<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Empirica Chat Widget Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
            background: #f6f8fa;
            color: #24292f;
        }
        h1 { color: #238636; }
        pre {
            background: #0d1117;
            color: #c9d1d9;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
        }
        code { color: #79c0ff; }
        .demo-section {
            background: white;
            padding: 24px;
            border-radius: 8px;
            margin: 20px 0;
            border: 1px solid #d0d7de;
        }
        .note {
            background: #ddf4ff;
            border: 1px solid #54aeff;
            padding: 16px;
            border-radius: 8px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>Empirica Chat Widget</h1>
    <p>Embeddable epistemic AI chat for any website.</p>

    <div class="demo-section">
        <h2>Quick Start</h2>
        <p>Add this single line to your website:</p>
        <pre>&lt;script src="https://your-domain.com/widget.js"
        data-server="wss://chat.getempirica.com/ws"&gt;
&lt;/script&gt;</pre>
    </div>

    <div class="demo-section">
        <h2>Configuration Options</h2>
        <pre>&lt;script src="widget.js"
        data-server="wss://chat.getempirica.com/ws"
        data-position="bottom-right"  &lt;!-- or bottom-left --&gt;
        data-theme="dark"             &lt;!-- or light --&gt;
        data-title="Support Chat"&gt;
&lt;/script&gt;</pre>
    </div>

    <div class="demo-section">
        <h2>Programmatic Initialization</h2>
        <pre>&lt;script src="widget.js"&gt;&lt;/script&gt;
&lt;script&gt;
  EmpiricaChat.init({
    server: 'wss://chat.getempirica.com/ws',
    position: 'bottom-right',
    theme: 'dark',
    title: 'Empirica Support',
    subtitle: 'Epistemic AI Assistant',
    welcomeMessage: 'Hello! How can I help?'
  });
&lt;/script&gt;</pre>
    </div>

    <div class="note">
        <strong>Features:</strong>
        <ul>
            <li><strong>Scout Agent</strong> - Fast topic assessment</li>
            <li><strong>Memory Search</strong> - Retrieves relevant facts (eidetic) and past work (episodic)</li>
            <li><strong>FactScorer</strong> - Validates confidence with moon phase indicator</li>
            <li><strong>Memory Grounding</strong> - Shows ðŸ“š when response uses memory context</li>
        </ul>
    </div>

    <div class="demo-section">
        <h2>Running Locally</h2>
        <pre># Start the chat server
cd empirica-outreach/web_chat
python app.py

# Server runs at http://localhost:8080
# Widget connects to ws://localhost:8080/ws</pre>
    </div>

    <!-- Load the widget (connects to local server for demo) -->
    <script src="widget.js" data-server="ws://localhost:8080/ws" data-theme="dark"></script>
</body>
</html>
